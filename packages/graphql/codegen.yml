config:
  avoidOptionals:
    inputValue: false
    object: false
    field: true
  scalars:
    Decimal: number
    Date: string
    DateTime: string
    EmailAddress: string
    ISO8601DateTime: string
    JSON: AnyJson
    JSONSchemaForm: JsonObject
    Markdown: string
    MenuItemLinkDynamicZoneInput: JsonObject
    WebPageContentDynamicZoneInput: JsonObject
    Long: number
    Time: string
    URL: string
    Upload: JsonObject
documents: 'src/operations/**/*.ts'
generates:
  src/@types/operations.tsx:
    config:
      reactApolloVersion: 3
      withComponent: false
      withHOC: false
      withHooks: true
      documentMode: documentNode
      documentNodeImport: '@graphql-typed-document-node/core#TypedDocumentNode'
    plugins:
      - add: "import { JsonObject, AnyJson } from './json'"
      - add: "import { OperationVariables as QueryVariables } from 'apollo-client'"
      - 'typescript'
      - 'typescript-operations'
      - 'typescript-react-apollo'

  src/@types/fragments.ts:
    config:
      apolloClientVersion: '3'
    plugins:
      - fragment-matcher

  ../../graphql.schema.json:
    config:
      minify: true
    plugins:
      - 'introspection'

overwrite: true
schema:
  - ${GRAPHQL_API_URL:https://api.cilabs.com/catalyst}
